diff --git a/plugins/hls-fourmolu-plugin/hls-fourmolu-plugin.cabal b/plugins/hls-fourmolu-plugin/hls-fourmolu-plugin.cabal
index e220eaa9..cbe55341 100644
--- a/plugins/hls-fourmolu-plugin/hls-fourmolu-plugin.cabal
+++ b/plugins/hls-fourmolu-plugin/hls-fourmolu-plugin.cabal
@@ -32,7 +32,7 @@ library
   build-depends:
     , base            >=4.12 && <5
     , filepath
-    , fourmolu        ^>=0.3 || ^>=0.4 || ^>= 0.6 || ^>= 0.7 || ^>= 0.8 || ^>= 0.9 || ^>= 0.10 || ^>= 0.11 || ^>= 0.12
+    , fourmolu        ^>=0.3 || ^>=0.4 || ^>= 0.6 || ^>= 0.7 || ^>= 0.8 || ^>= 0.9 || ^>= 0.10 || ^>= 0.11 || ^>= 0.12 || ^>= 0.13
     , ghc
     , ghc-boot-th
     , ghcide          == 2.1.0.0
diff --git a/stack.yaml b/stack.yaml
index 47366121..58c0cfcb 100644
--- a/stack.yaml
+++ b/stack.yaml
@@ -1,4 +1,4 @@
-resolver: nightly-2023-07-10 # ghc-9.6.2
+resolver: lts-21.3
 
 packages:
   - .
@@ -50,12 +50,20 @@ extra-deps:
 - hiedb-0.4.3.0
 - implicit-hie-0.1.2.7
 - implicit-hie-cradle-0.5.0.1
-- fourmolu-0.12.0.0
 - algebraic-graphs-0.6.1
 - retrie-1.2.2
 - hw-fingertree-0.1.2.1
 - hw-prim-0.6.3.2
 - ansi-terminal-0.11.5
+- hlint-3.6.1
+- fourmolu-0.13.1.0
+# fourmolu
+- ghc-lib-parser-9.6.2.20230523
+- Cabal-syntax-3.10.1.0
+- Cabal-3.10.1.0
+- ormolu-0.7.1.0
+# hlint
+- ghc-lib-parser-ex-9.6.0.0
 
 configure-options:
   ghcide:
@@ -66,6 +74,8 @@ configure-options:
 flags:
   haskell-language-server:
     pedantic: true
+    floskell: false
+    stylishHaskell: false
   retrie:
     BuildExecutable: false
   # Stack doesn't support automatic flags.
